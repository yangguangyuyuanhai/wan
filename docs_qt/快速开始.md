# Qt GUI 快速开始指南

## 🚀 5分钟快速启动

### 1. 安装依赖

```bash
cd service_new/service_qt
pip install -r requirements_qt.txt
```

### 2. 启动GUI

**Windows:**
```bash
启动GUI.bat
```

**或直接运行:**
```bash
python run_gui.py
```

### 3. 使用界面

1. **选择运行模式**: 开发模式/生产模式/调试模式
2. **调整参数**: 相机参数、检测参数
3. **点击启动**: 绿色"启动系统"按钮
4. **查看结果**: 中间显示实时图像，右侧显示检测结果

## 📸 界面预览

```
┌─────────────────────────────────────────────────────────────┐
│  工业视觉系统 - MVS Vision System                            │
├──────────┬────────────────────────────────┬─────────────────┤
│ 控制面板  │      实时图像显示              │   信息面板       │
│          │                                │                 │
│ [开发模式▼]│  ┌──────────────────────────┐ │ ┌─检测结果───┐ │
│          │  │                          │ │ │ 类别 | 置信度│ │
│ [启动系统] │  │      等待图像...         │ │ │ person 0.95│ │
│ [停止系统] │  │                          │ │ │ car    0.87│ │
│ [截图保存] │  └──────────────────────────┘ │ └────────────┘ │
│          │  FPS: 30.0                    │                 │
│ 相机参数  │                                │ ┌─统计信息───┐ │
│ 曝光:10000│                                │ │ 帧数: 1234 │ │
│ 增益:10.0 │                                │ │ 耗时: 33ms │ │
│ 帧率:30.0 │                                │ └────────────┘ │
│ [应用参数] │                                │                 │
│          │                                │ ┌─系统日志───┐ │
│ 检测参数  │                                │ │ [INFO]启动 │ │
│ ☑YOLO检测 │                                │ │ [INFO]运行 │ │
│ 置信度:0.5│                                │ └────────────┘ │
└──────────┴────────────────────────────────┴─────────────────┘
│ 状态栏: 系统运行中                                           │
└─────────────────────────────────────────────────────────────┘
```

## 🎨 配色说明（海康威视风格）

- **深色背景**: 专业、护眼
- **蓝色强调**: 科技感、现代
- **绿色按钮**: 启动/成功
- **红色按钮**: 停止/错误
- **橙色提示**: 警告信息

## ⚙️ 功能说明

### 左侧控制面板

#### 系统控制
- **运行模式**: 选择开发/生产/调试模式
- **启动系统**: 启动视觉处理系统（绿色按钮）
- **停止系统**: 停止系统（红色按钮）
- **截图保存**: 保存当前显示的图像

#### 相机参数
- **曝光时间**: 100-100000 μs，控制图像亮度
- **增益**: 0-24 dB，增强图像信号
- **帧率**: 1-120 fps，控制采集速度
- **应用参数**: 实时应用参数到相机

#### 检测参数
- **启用YOLO**: 开启/关闭目标检测
- **置信度**: 0.1-1.0，过滤低置信度检测
- **IOU阈值**: 0.1-1.0，控制重叠框过滤

### 中间显示区域

- **实时图像**: 显示相机采集的图像
- **检测框**: 自动绘制检测到的目标
- **FPS显示**: 实时显示处理帧率
- **缩放适应**: 自动缩放图像适应窗口

### 右侧信息面板

#### 检测结果标签页
- **结果表格**: 显示所有检测到的对象
  - 类别名称
  - 置信度分数
  - 位置坐标
- **统计信息**: 检测数量、平均置信度

#### 统计信息标签页
- **性能统计**: 
  - 处理帧数
  - 平均处理时间
  - 错误次数
- **服务状态**: 各微服务运行状态

#### 系统日志标签页
- **彩色日志**: 不同级别不同颜色
  - INFO: 蓝色
  - WARNING: 橙色
  - ERROR: 红色
- **清除按钮**: 清空日志显示

## 🔧 常见问题

### Q1: 启动后没有图像？

**A:** 检查以下几点：
1. 相机是否正确连接
2. 驱动是否已安装
3. 查看系统日志中的错误信息

### Q2: 检测结果不准确？

**A:** 调整检测参数：
1. 降低置信度阈值（如0.3）
2. 检查YOLO模型是否正确
3. 调整相机曝光和增益

### Q3: 界面卡顿？

**A:** 优化性能：
1. 降低显示帧率限制
2. 关闭不需要的服务
3. 使用生产模式（精简日志）

### Q4: 无法保存图像？

**A:** 检查：
1. 存储服务是否启用
2. 保存路径是否有写权限
3. 磁盘空间是否充足

## 📝 快捷键（待实现）

- `Ctrl+S`: 截图保存
- `Ctrl+Q`: 退出程序
- `F5`: 刷新相机列表
- `F11`: 全屏显示
- `Space`: 暂停/继续

## 🎯 下一步

1. **配置优化**: 菜单 → 配置 → 调整各项参数
2. **查看文档**: 阅读 README.md 了解详细功能
3. **自定义样式**: 修改 styles.py 调整界面风格
4. **扩展功能**: 参考 widgets.py 添加自定义控件

## 💡 提示

- 首次启动建议使用**开发模式**，可以看到详细日志
- 生产环境建议使用**生产模式**，性能更好
- 调试问题时使用**调试模式**，输出最详细信息

## 📞 技术支持

遇到问题？
1. 查看系统日志标签页
2. 检查 `logs/` 目录下的日志文件
3. 参考 README.md 中的详细文档

---

**祝使用愉快！** 🎉
